#pragma checksum "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Pages\Client\Profile.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "c13e919fa29d5038e41d3bc1827e885918bfec2d"
// <auto-generated/>
#pragma warning disable 1591
namespace RenewalTML.Pages.Client
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
#nullable restore
#line 1 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Shared.Designing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Shared.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Shared.Navigation;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Shared.Notifications;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Shared.Transactions;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Shared.Validation;

#line default
#line hidden
#nullable disable
#nullable restore
#line 17 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Shared.Clients;

#line default
#line hidden
#nullable disable
#nullable restore
#line 18 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Shared.Admin;

#line default
#line hidden
#nullable disable
#nullable restore
#line 19 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Shared.Exstention.ClassAddons;

#line default
#line hidden
#nullable disable
#nullable restore
#line 20 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Shared.Exstention;

#line default
#line hidden
#nullable disable
#nullable restore
#line 21 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 22 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Data.Model;

#line default
#line hidden
#nullable disable
#nullable restore
#line 23 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Pages.Client;

#line default
#line hidden
#nullable disable
#nullable restore
#line 24 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using Blazorise;

#line default
#line hidden
#nullable disable
#nullable restore
#line 25 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Data.Dto;

#line default
#line hidden
#nullable disable
#nullable restore
#line 26 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Data.JSInteropHelper;

#line default
#line hidden
#nullable disable
#nullable restore
#line 27 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using Newtonsoft.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 28 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using Microsoft.AspNetCore.SignalR.Client;

#line default
#line hidden
#nullable disable
#nullable restore
#line 29 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using Blazorise.Utilities;

#line default
#line hidden
#nullable disable
#nullable restore
#line 30 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using Microsoft.AspNetCore.Components;

#line default
#line hidden
#nullable disable
#nullable restore
#line 31 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using System.Threading.Tasks;

#line default
#line hidden
#nullable disable
#nullable restore
#line 32 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using System.ComponentModel.DataAnnotations;

#line default
#line hidden
#nullable disable
#nullable restore
#line 33 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using System.Linq.Expressions;

#line default
#line hidden
#nullable disable
#nullable restore
#line 34 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using System.Reflection;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/profile/{userId:int}")]
    public partial class Profile : RenewalTMLComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenElement(0, "div");
            __builder.AddAttribute(1, "style", "display:flex; gap:15px;");
            __builder.AddAttribute(2, "class", "block p-normal mobile-row-column");
            __builder.OpenElement(3, "div");
            __builder.AddAttribute(4, "style", "flex: 9;");
            __builder.OpenElement(5, "div");
            __builder.AddAttribute(6, "class", "block p-normal user-header-block");
#nullable restore
#line 12 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Pages\Client\Profile.razor"
             if (_isComplete)
            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(7, "div");
            __builder.AddAttribute(8, "style", "width: 100px; position: relative;");
            __builder.OpenComponent<RenewalTML.Shared.Clients.ClientAvatar>(9);
            __builder.AddAttribute(10, "Client", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<RenewalTML.Data.Model.Client>(
#nullable restore
#line 15 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Pages\Client\Profile.razor"
                                                               user

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(11, "AvatarSize", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<RenewalTML.Shared.Exstention.ClassAddons.AvatarSize>(
#nullable restore
#line 15 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Pages\Client\Profile.razor"
                                                                                 AvatarSize._100x

#line default
#line hidden
#nullable disable
            ));
            __builder.SetKey(
#nullable restore
#line 15 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Pages\Client\Profile.razor"
                                        user.UserName

#line default
#line hidden
#nullable disable
            );
            __builder.CloseComponent();
            __builder.CloseElement();
            __builder.AddMarkupContent(12, "\r\n                ");
            __builder.OpenElement(13, "div");
            __builder.AddAttribute(14, "class", "user-header-text-wrapper");
            __builder.OpenElement(15, "p");
            __builder.AddAttribute(16, "style", "color: #333;margin-bottom: 5px;font-weight: 700;");
#nullable restore
#line 18 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Pages\Client\Profile.razor"
__builder.AddContent(17, user.UserName);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(18, "\r\n                    \r\n                    ");
            __builder.AddMarkupContent(19, "<p style=\"font-size: 13px;\">Профиль пользователя</p>");
#nullable restore
#line 22 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Pages\Client\Profile.razor"
                     if (clientRole.isHaveAccesToAdminPanel)
                    {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(20, "<div class=\"admin-badge\">A</div>");
#nullable restore
#line 25 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Pages\Client\Profile.razor"
                    }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
#nullable restore
#line 27 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Pages\Client\Profile.razor"
            }
            else
            {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(21, "<div class=\"loader-wrapper\"><div class=\"btn-loader page\"></div></div>");
#nullable restore
#line 31 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Pages\Client\Profile.razor"
            }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(22, "\r\n        ");
            __builder.OpenElement(23, "div");
            __builder.AddAttribute(24, "class", "block p-normal");
#nullable restore
#line 34 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Pages\Client\Profile.razor"
             if (_isComplete)
            {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(25, "<p class=\"page-title-user\">Профиль</p>\r\n                ");
            __builder.OpenElement(26, "div");
            __builder.AddAttribute(27, "class", "userbar-navigation");
            __builder.AddAttribute(28, "style", "display: flex; ");
            __builder.OpenElement(29, "div");
            __builder.AddAttribute(30, "class", "user-navigation-information-block active");
            __builder.AddAttribute(31, "style", "flex: 1;");
            __builder.AddMarkupContent(32, "<p class=\"top-info-nav\">Счёт</p>\r\n                        ");
            __builder.OpenElement(33, "p");
            __builder.AddAttribute(34, "class", "main-text-nav");
#nullable restore
#line 40 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Pages\Client\Profile.razor"
__builder.AddContent(35, CurrencyAddon.Format(user.Balance));

#line default
#line hidden
#nullable disable
            __builder.AddContent(36, " ");
            __builder.OpenComponent<RenewalTML.Shared.Designing.MoneyLogotype>(37);
            __builder.AddAttribute(38, "Class", "medium black-grey");
            __builder.CloseComponent();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(39, "\r\n                    ");
            __builder.AddMarkupContent(40, "<div class=\"user-navigation-information-block\" style=\"flex: 1; opacity: 0.4; cursor: not-allowed;\"><p class=\"top-info-nav\">Депозит</p>\r\n                        <p class=\"main-text-nav\">-</p></div>\r\n                    ");
            __builder.AddMarkupContent(41, "<div class=\"user-navigation-information-block\" style=\"flex: 1; opacity: 0.4; cursor: not-allowed; \"><p class=\"top-info-nav\">Предметы</p>\r\n                        <p class=\"main-text-nav\">- Шт.</p></div>");
            __builder.CloseElement();
            __builder.AddMarkupContent(42, "<p class=\"page-title-user\" style=\"margin-top: 15px; margin-bottom: 15px;\">График</p>\r\n                ");
            __builder.AddMarkupContent(43, "<p class=\"info-debug-text\">Данные для графиков временно не сохраняются, график ниже - рандомно сгенерирован и никак не относится к пользовтелю. Он нужен что-бы показать, что система рендеринга графиков работает.</p>\r\n                ");
            __builder.AddMarkupContent(44, "<div style=\"width: 100%; height: 175px; opacity: 0.4; cursor: not-allowed\"><canvas id=\"userBalanceChart\" width=\"300\" height=\"250\"></canvas></div>");
#nullable restore
#line 57 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Pages\Client\Profile.razor"
            }
            else
            {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(45, "<div class=\"loader-wrapper\"><div class=\"btn-loader page\"></div></div>");
#nullable restore
#line 61 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Pages\Client\Profile.razor"
            }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(46, "\r\n    ");
            __builder.OpenElement(47, "div");
            __builder.AddAttribute(48, "style", "flex: 5;");
            __builder.AddAttribute(49, "class", "block p-normal");
#nullable restore
#line 65 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Pages\Client\Profile.razor"
         if (userTransactions != null)
        {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(50, "<p class=\"page-title-user\">Транзакции</p>\r\n            ");
            __builder.OpenComponent<RenewalTML.Shared.Transactions.TransactionModuleBlock>(51);
            __builder.AddAttribute(52, "Style", "margin-top: 15px;");
            __builder.AddAttribute(53, "TransactionList", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<RenewalTML.Shared.Exstention.ClassAddons.TransactionModule>(
#nullable restore
#line 68 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Pages\Client\Profile.razor"
                                                                               userTransactions

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(54, "UserTransaction", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<RenewalTML.Data.Model.Client>(
#nullable restore
#line 68 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Pages\Client\Profile.razor"
                                                                                                                                       user

#line default
#line hidden
#nullable disable
            ));
            __builder.SetKey(
#nullable restore
#line 68 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Pages\Client\Profile.razor"
                                                                                                       user.UserName

#line default
#line hidden
#nullable disable
            );
            __builder.CloseComponent();
#nullable restore
#line 69 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Pages\Client\Profile.razor"
        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
        }
        #pragma warning restore 1998
#nullable restore
#line 73 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Pages\Client\Profile.razor"
       
    [Parameter]
    public int UserId { get; set; }

    private TransactionModule userTransactions { get; set; }
    private Client user { get; set; }

    private Role clientRole { get; set; }

    private List<ChartDataIntrop> test = new List<ChartDataIntrop>()
{
        new ChartDataIntrop("1", 150),
        new ChartDataIntrop("2", 350),
        new ChartDataIntrop("3", 1850),
        new ChartDataIntrop("4", 13512),
        new ChartDataIntrop("5", 44580),
        new ChartDataIntrop("6", 16530),
        new ChartDataIntrop("7", 18912),
        new ChartDataIntrop("8", 103872),
        new ChartDataIntrop("9", 1150),
        new ChartDataIntrop("10", 1920),
        new ChartDataIntrop("11", 0),
        new ChartDataIntrop("12", 11),
        new ChartDataIntrop("13", 5550),
        new ChartDataIntrop("14", 31212)
    };

    public override async Task OnInitializedComponent() => await GeneralInitializaton();

    private async Task GeneralInitializaton()
    {
        try
        {
            user = await _userServices.FindUserById(UserId);

            if (user != null)
            {
                userTransactions = await _transactionServices.GetEntityTransaction(user, _rawHtmlizer, 12);

                clientRole = await _roleServices.GetClientRole(user);

                await ChangePageLoadStatus(true);
                StateHasChanged();

                await _js.InvokeVoidAsync("MaxHeightLoader");

                await _js.InvokeVoidAsync("Graphics.DestroyChart", "user-profile-balance");
                await _js.InvokeVoidAsync("Graphics.GenerateChart", "userBalanceChart", "user-profile-balance", (int)((test.Max(m => m.Data) - test.Min(m => m.Data)) / 6));

                await _js.InvokeVoidAsync("Graphics.AddSingleData", "user-profile-balance", 0, test);

                StateHasChanged();
            }
            else await _virtualNavigationServices.ReRedirectClient(VirtualNavigationServices.errorUrl + 404, hardLoad: true);
        }
        catch (Exception) { }
    }

    protected async override Task OnInitializedAsync()
    {
        await _js.InvokeVoidAsync("loadScript", "libs/chart.js/chart.min.js");

        _virtualNavigationServices.SetPageInformationForEnchantedNavigation(this);

        await GeneralInitializaton();
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IRawTextHtmlizer _rawHtmlizer { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IVirtualFileServices _fileManager { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ITransactionServices _transactionServices { get; set; }
    }
}
#pragma warning restore 1591

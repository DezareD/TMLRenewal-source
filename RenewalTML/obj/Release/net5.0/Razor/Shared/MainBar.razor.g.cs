#pragma checksum "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "d7245cfc2e50122e24fce30b9522d64b772b62b2"
// <auto-generated/>
#pragma warning disable 1591
namespace RenewalTML.Shared
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
#nullable restore
#line 1 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Shared.Designing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Shared.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Shared.Navigation;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Shared.Notifications;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Shared.Transactions;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Shared.Validation;

#line default
#line hidden
#nullable disable
#nullable restore
#line 17 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Shared.Clients;

#line default
#line hidden
#nullable disable
#nullable restore
#line 18 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Shared.Admin;

#line default
#line hidden
#nullable disable
#nullable restore
#line 19 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Shared.Exstention.ClassAddons;

#line default
#line hidden
#nullable disable
#nullable restore
#line 20 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Shared.Exstention;

#line default
#line hidden
#nullable disable
#nullable restore
#line 21 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 22 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Data.Model;

#line default
#line hidden
#nullable disable
#nullable restore
#line 23 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Pages.Client;

#line default
#line hidden
#nullable disable
#nullable restore
#line 24 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using Blazorise;

#line default
#line hidden
#nullable disable
#nullable restore
#line 25 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Data.Dto;

#line default
#line hidden
#nullable disable
#nullable restore
#line 26 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using RenewalTML.Data.JSInteropHelper;

#line default
#line hidden
#nullable disable
#nullable restore
#line 27 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using Newtonsoft.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 28 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using Microsoft.AspNetCore.SignalR.Client;

#line default
#line hidden
#nullable disable
#nullable restore
#line 29 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using Blazorise.Utilities;

#line default
#line hidden
#nullable disable
#nullable restore
#line 30 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using Microsoft.AspNetCore.Components;

#line default
#line hidden
#nullable disable
#nullable restore
#line 31 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using System.Threading.Tasks;

#line default
#line hidden
#nullable disable
#nullable restore
#line 32 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using System.ComponentModel.DataAnnotations;

#line default
#line hidden
#nullable disable
#nullable restore
#line 33 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using System.Linq.Expressions;

#line default
#line hidden
#nullable disable
#nullable restore
#line 34 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\_Imports.razor"
using System.Reflection;

#line default
#line hidden
#nullable disable
    public partial class MainBar : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
#nullable restore
#line 10 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
 if (isLogout == false)
{

#line default
#line hidden
#nullable disable
            __builder.OpenElement(0, "heder");
            __builder.AddAttribute(1, "class", 
#nullable restore
#line 12 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                    AdminTheme(RtBlock) ? "main-bar admin" : "main-bar"

#line default
#line hidden
#nullable disable
            );
            __builder.OpenElement(2, "div");
            __builder.AddAttribute(3, "class", "container bar-inner");
            __builder.OpenComponent<RenewalTML.Shared.Navigation.ToLink>(4);
            __builder.AddAttribute(5, "Url", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 14 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                           (RtBlock != null && RtBlock.isShowBar) ? "" : null

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(6, "Class", "bar-item");
            __builder.AddAttribute(7, "IsActive", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 14 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                                                                                           true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(8, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.OpenElement(9, "div");
                __builder2.AddAttribute(10, "class", "logotype32x32-outer logotype-outer");
                __builder2.OpenComponent<RenewalTML.Shared.Designing.SiteLogotype>(11);
                __builder2.CloseComponent();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(12, "\r\n                ");
                __builder2.OpenElement(13, "div");
#nullable restore
#line 20 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                     if (RtBlock != null)
                    {

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(14, "span");
                __builder2.AddAttribute(15, "class", 
#nullable restore
#line 22 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                       AdminTheme(RtBlock) ? "bar-site-naming admin" : "bar-site-naming"

#line default
#line hidden
#nullable disable
                );
#nullable restore
#line 22 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
__builder2.AddContent(16, RtBlock.BrandName);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.AddMarkupContent(17, "\r\n                        ");
                __builder2.OpenElement(18, "span");
                __builder2.AddAttribute(19, "class", "bar-site-naming-postfix");
#nullable restore
#line 23 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
__builder2.AddContent(20, RtBlock.informer);

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
#nullable restore
#line 24 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                    }

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
            }
            ));
            __builder.CloseComponent();
#nullable restore
#line 27 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
             if (RtBlock != null && RtBlock.isShowBar)
            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(21, "div");
            __builder.AddAttribute(22, "class", "bar-item right");
#nullable restore
#line 30 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
             if (user != null && BlockShowMoney == false)
            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(23, "div");
            __builder.AddAttribute(24, "style", "font-size: 13.5px;");
            __builder.AddAttribute(25, "class", "js-blinked-text-balance" + " " + (
#nullable restore
#line 32 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                                                                 AdminTheme(RtBlock) ? "bar-icon-item admin" : "bar-icon-item"

#line default
#line hidden
#nullable disable
            ));
#nullable restore
#line 32 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
__builder.AddContent(26, CurrencyAddon.Format(Balance));

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(27, " <i style=\"margin-left: 5px;\" class=\"fas fa-coins\"></i>");
            __builder.CloseElement();
#nullable restore
#line 33 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
            }

#line default
#line hidden
#nullable disable
            __builder.OpenComponent<RenewalTML.Shared.Navigation.ToLink>(28);
            __builder.AddAttribute(29, "IsActive", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 35 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                              false

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(30, "Class", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 35 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                              "-tp-mainbar-continental disablde-bar-icon " + (AdminTheme(RtBlock) ? "bar-icon-item admin" : "bar-icon-item")

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(31, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(32, "<i class=\"fal fa-globe-americas\"></i>");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(33, "\r\n            ");
            __builder.OpenComponent<RenewalTML.Shared.Navigation.ToLink>(34);
            __builder.AddAttribute(35, "IsActive", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 38 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                              false

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(36, "Class", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 38 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                              "-tp-mainbar-shop disablde-bar-icon " + (AdminTheme(RtBlock) ? "bar-icon-item admin" : "bar-icon-item")

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(37, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(38, "<i class=\"fal fa-shopping-bag\"></i>");
            }
            ));
            __builder.CloseComponent();
#nullable restore
#line 42 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
             if (user != null)
            {

#line default
#line hidden
#nullable disable
            __builder.OpenComponent<Blazorise.Dropdown>(39);
            __builder.AddAttribute(40, "ElementId", "NotificationMenu");
            __builder.AddAttribute(41, "Direction", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Blazorise.Direction>(
#nullable restore
#line 45 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                                                  Direction.Down

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(42, "RightAligned", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 45 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                                                                                true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(43, "Style", "display: flex; transform: scale(1.0000);");
            __builder.AddAttribute(44, "Toggled", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.Boolean>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.Boolean>(this, 
#nullable restore
#line 46 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                   OpenNotificationMenu

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(45, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.OpenComponent<Blazorise.DropdownToggle>(46);
                __builder2.AddAttribute(47, "Class", "clear-btn");
                __builder2.AddAttribute(48, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder3) => {
                    __builder3.OpenElement(49, "a");
                    __builder3.AddAttribute(50, "class", 
#nullable restore
#line 48 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                    "-tp-mainbar-notification " + (AdminTheme(RtBlock) ? "bar-icon-item admin" : "bar-icon-item")

#line default
#line hidden
#nullable disable
                    );
                    __builder3.AddMarkupContent(51, "<i class=\"fal fa-bell\"></i>");
#nullable restore
#line 50 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                             if (CountNewNotification > 0)
                            {

#line default
#line hidden
#nullable disable
                    __builder3.AddMarkupContent(52, "<div class=\"notification-badge\"></div>");
#nullable restore
#line 53 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                            }

#line default
#line hidden
#nullable disable
                    __builder3.CloseElement();
                }
                ));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(53, "\r\n                    ");
                __builder2.OpenComponent<Blazorise.DropdownMenu>(54);
                __builder2.AddAttribute(55, "Class", "notification-menu");
                __builder2.AddAttribute(56, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder3) => {
#nullable restore
#line 57 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                         if (UserLastNotification != null
               && UserAllNotification != null)
                        {
                            

#line default
#line hidden
#nullable disable
#nullable restore
#line 60 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                             if (UserLastNotification.Count == 0 && UserAllNotification.Count == 0)
                            {

#line default
#line hidden
#nullable disable
                    __builder3.AddMarkupContent(57, "<p class=\"notification-text-separator\">Уведомлений нет.</p>");
#nullable restore
#line 63 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                            }
                            else
                            {

                                

#line default
#line hidden
#nullable disable
#nullable restore
#line 67 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                 if (UserLastNotification.Count > 0)
                                {

#line default
#line hidden
#nullable disable
                    __builder3.OpenElement(58, "p");
                    __builder3.AddAttribute(59, "class", "notification-text-separator");
                    __builder3.AddMarkupContent(60, "Новых уведомлений: ");
#nullable restore
#line 69 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
__builder3.AddContent(61, UserLastNotification.Count);

#line default
#line hidden
#nullable disable
                    __builder3.CloseElement();
#nullable restore
#line 70 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 72 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                 foreach (var notification in UserLastNotification.OrderByDescending(m => m.RealDateTime.Ticks))
                                {

#line default
#line hidden
#nullable disable
                    __builder3.OpenComponent<RenewalTML.Shared.Notifications.NotificationItem>(62);
                    __builder3.AddAttribute(63, "Notification", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<RenewalTML.Shared.Exstention.ClassAddons.NotificationViewer>(
#nullable restore
#line 74 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                                                    notification

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.CloseComponent();
#nullable restore
#line 75 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 77 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                 if (UserLastNotification.Count > 0 && UserAllNotification.Count > 0)
                                {

#line default
#line hidden
#nullable disable
                    __builder3.AddMarkupContent(64, "<p class=\"notification-text-separator\">Старые уведомления:</p>");
#nullable restore
#line 80 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                }
                                else if (UserLastNotification.Count == 0 && UserAllNotification.Count > 0)
                                {

#line default
#line hidden
#nullable disable
                    __builder3.AddMarkupContent(65, "<p class=\"notification-text-separator\">Новых уведомлений нет.</p>");
#nullable restore
#line 84 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 86 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                 foreach (var notification in UserAllNotification.OrderByDescending(m => m.RealDateTime.Ticks))
                                {

#line default
#line hidden
#nullable disable
                    __builder3.OpenComponent<RenewalTML.Shared.Notifications.NotificationItem>(66);
                    __builder3.AddAttribute(67, "Notification", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<RenewalTML.Shared.Exstention.ClassAddons.NotificationViewer>(
#nullable restore
#line 88 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                                                    notification

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.CloseComponent();
#nullable restore
#line 89 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 89 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                 
                            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 90 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                             
                        }
                        else
                        {

#line default
#line hidden
#nullable disable
                    __builder3.AddMarkupContent(68, "<div class=\"loader-wrapper\"><div class=\"btn-loader page\"></div></div>");
#nullable restore
#line 95 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                        }

#line default
#line hidden
#nullable disable
                }
                ));
                __builder2.CloseComponent();
            }
            ));
            __builder.AddComponentReferenceCapture(69, (__value) => {
#nullable restore
#line 45 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                                                                                            usernotificationMenu = (Blazorise.Dropdown)__value;

#line default
#line hidden
#nullable disable
            }
            );
            __builder.CloseComponent();
            __builder.AddMarkupContent(70, "\r\n                ");
            __builder.OpenComponent<Blazorise.Dropdown>(71);
            __builder.AddAttribute(72, "Direction", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Blazorise.Direction>(
#nullable restore
#line 98 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                     Direction.Down

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(73, "RightAligned", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 98 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                                                   true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(74, "Style", "display: flex;");
            __builder.AddAttribute(75, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.OpenComponent<Blazorise.DropdownToggle>(76);
                __builder2.AddAttribute(77, "Class", "clear-btn bar-image -tp-mainbar-userbutton");
                __builder2.AddAttribute(78, "Style", "margin-left: 16px;");
                __builder2.AddAttribute(79, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder3) => {
                    __builder3.OpenComponent<RenewalTML.Shared.Clients.ClientAvatar>(80);
                    __builder3.AddAttribute(81, "AvatarSize", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<RenewalTML.Shared.Exstention.ClassAddons.AvatarSize>(
#nullable restore
#line 100 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                                                      AvatarSize.mini

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(82, "Client", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<RenewalTML.Data.Model.Client>(
#nullable restore
#line 100 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                                                                               user

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddComponentReferenceCapture(83, (__value) => {
#nullable restore
#line 100 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                            clientAvatar = (RenewalTML.Shared.Clients.ClientAvatar)__value;

#line default
#line hidden
#nullable disable
                    }
                    );
                    __builder3.CloseComponent();
                }
                ));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(84, "\r\n                    ");
                __builder2.OpenComponent<Blazorise.DropdownMenu>(85);
                __builder2.AddAttribute(86, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder3) => {
                    __builder3.OpenComponent<Blazorise.DropdownItem>(87);
                    __builder3.AddAttribute(88, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.OpenComponent<RenewalTML.Shared.Navigation.ToLink>(89);
                        __builder4.AddAttribute(90, "IsActive", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 103 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                                        true

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddAttribute(91, "Url", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 103 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                                                     $"profile/{user.Id}"

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddAttribute(92, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.AddMarkupContent(93, "<i class=\"far fa-user\"></i>Профиль");
                        }
                        ));
                        __builder4.CloseComponent();
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(94, "\r\n                        ");
                    __builder3.OpenComponent<Blazorise.DropdownItem>(95);
                    __builder3.AddAttribute(96, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.OpenComponent<RenewalTML.Shared.Navigation.ToLink>(97);
                        __builder4.AddAttribute(98, "IsActive", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 104 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                                        true

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddAttribute(99, "Url", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 104 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                                                     $"profile/{user.Id}/actions#transferMoney"

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddAttribute(100, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.AddMarkupContent(101, "<i class=\"far fa-comments-alt-dollar\"></i>Действия");
                        }
                        ));
                        __builder4.CloseComponent();
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(102, "\r\n                        ");
                    __builder3.OpenComponent<Blazorise.DropdownDivider>(103);
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(104, "\r\n                        ");
                    __builder3.OpenElement(105, "div");
                    __builder3.AddAttribute(106, "class", "mainmenu-bottom-outer");
                    __builder3.OpenComponent<RenewalTML.Shared.Navigation.ToLink>(107);
                    __builder3.AddAttribute(108, "IsActive", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 107 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                              true

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(109, "Url", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 107 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                                           $"profile/{user.Id}/settings"

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(110, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.AddMarkupContent(111, "<div class=\"bottom-item icon\"><i class=\"far fa-cog\"></i>Настройки</div>");
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(112, "\r\n                            ");
                    __builder3.OpenElement(113, "div");
                    __builder3.AddAttribute(114, "class", "bottom-item");
                    __builder3.AddAttribute(115, "style", "cursor:pointer");
                    __builder3.AddAttribute(116, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 108 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                                                                      LogoutUser

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddMarkupContent(117, "<i class=\"far fa-sign-out-alt\"></i>");
                    __builder3.CloseElement();
                    __builder3.CloseElement();
                }
                ));
                __builder2.CloseComponent();
            }
            ));
            __builder.AddComponentReferenceCapture(118, (__value) => {
#nullable restore
#line 98 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                                                                               usermainmenuBar = (Blazorise.Dropdown)__value;

#line default
#line hidden
#nullable disable
            }
            );
            __builder.CloseComponent();
#nullable restore
#line 112 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
            }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
#nullable restore
#line 114 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
            }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 117 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
}
else
{

#line default
#line hidden
#nullable disable
            __builder.OpenComponent<RenewalTML.Shared.Navigation.ToPage>(119);
            __builder.AddAttribute(120, "HardGo", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 120 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
                    false

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(121, "Url", "auth");
            __builder.CloseComponent();
#nullable restore
#line 121 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
}

#line default
#line hidden
#nullable disable
        }
        #pragma warning restore 1998
#nullable restore
#line 123 "C:\Users\Fearp\source\repos\RenewalTML\RenewalTML\Shared\MainBar.razor"
       
    [Parameter]
    public CompleteVirtualRedirect RtBlock { get; set; }

    private Client user { get; set; }
    private Dropdown usermainmenuBar { get; set; }
    private Dropdown usernotificationMenu { get; set; }
    private ClientAvatar clientAvatar { get; set; }
    private bool isLogout { get; set; }

    private List<NotificationViewer> UserLastNotification { get; set; }
    private List<NotificationViewer> UserAllNotification { get; set; }

    private int CountNewNotification { get; set; }

    private int Balance { get; set; }
    private bool BlockShowMoney { get; set; }

    protected override async Task OnInitializedAsync()
    {
        user = await _clientAuthServices.GetClient();

        if (user != null)
        {
            // получаем количество нотификаций

            var queryNew = await _notificationServices.GetNotViewedNotificationAsync(user);
            var role = await _roleServices.GetRoleAsync(user.RoleId);

            if (role.isBlockedEconomic)
                BlockShowMoney = true;

            CountNewNotification = queryNew.Count();

            Balance = user.Balance;

            await _js.InvokeVoidAsync("loadScript", "libs/tippy.js/tippy.min.js");

            await _js.InvokeVoidAsync("CreateTippyElement",
                new List<TooltipModel>() {
                    new TooltipModel(".-tp-mainbar-continental", "Государства и организации. ( не доступно )", ToolTipStyles.DefaultStyle, width: 350),
                    new TooltipModel(".-tp-mainbar-shop", "Магазин и товары. ( не доступно )", ToolTipStyles.DefaultStyle, width: 350),
                    new TooltipModel(".-tp-mainbar-notification", "Все уведомления.", ToolTipStyles.DefaultStyle, width: 350),
                    new TooltipModel(".-tp-mainbar-userbutton", "Ваш профиль.", ToolTipStyles.DefaultStyle, width: 350)
                }
            );
        }
    }

    public async Task SetFirstLoadNotificationTitle()
    {
        if (CountNewNotification > 0)
        {
            await _js.InvokeVoidAsync("SetNotificationTitleCount", CountNewNotification);
        }
    }

    private async Task OpenNotificationMenu(bool isOpen)
    {
        if (isOpen)
        {
            var queryNew = await _notificationServices.GetNotViewedNotificationAsync(user);
            var query = await _notificationServices.GetNotificationClientAsync(user, 15);

            // TODO: Сделать страницу с полной историей нотификаций

            UserLastNotification = new List<NotificationViewer>();
            UserAllNotification = new List<NotificationViewer>();

            foreach (var ntf in queryNew)
            {
                var notificator = new NotificationViewer(ntf);
                await notificator.GenerateHtmlRawText(_rawHtmlizer);

                UserLastNotification.Add(notificator);
            }

            foreach (var ntf in query)
            {
                var notificator = new NotificationViewer(ntf);
                await notificator.GenerateHtmlRawText(_rawHtmlizer);

                UserAllNotification.Add(notificator);
            }

            await _notificationServices.SetNotificationViewed(user);

            CountNewNotification = 0;
            await _js.InvokeVoidAsync("SetNotificationTitleCount", CountNewNotification);
        }
    }

    private void LogoutUser()
    {
        _clientAuthServices.LogOut();
        isLogout = true;
    }

    // Добавляем уведомление в пользовательский интерфейс, с оповещением.
    public async Task AddNotificationToUserLogic(Notification notification)
    {
        var notificator = new NotificationViewer(notification);
        await notificator.GenerateHtmlRawText(_rawHtmlizer);

        if (UserLastNotification == null)
            UserLastNotification = new List<NotificationViewer>();

        UserLastNotification.Add(notificator);

        CountNewNotification++;
        await _js.InvokeVoidAsync("SetNotificationTitleCount", CountNewNotification);

        StateHasChanged();
    }

    // Изменяем деньхи
    public async Task EditUserBalance(int balance)
    {
        Balance += balance;

        StateHasChanged();

        if (balance < 0) await _js.InvokeVoidAsync("ColoringBar.BlnkText", ".js-blinked-text-balance", "red");
        else if(balance == 0) await _js.InvokeVoidAsync("ColoringBar.BlnkText", ".js-blinked-text-balance", "none");
        else await _js.InvokeVoidAsync("ColoringBar.BlnkText", ".js-blinked-text-balance", "green");
    }

    public async Task UpdateUserImage(bool isAuth)
    {
        user = await _clientAuthServices.GetClient();

        if (user != null)
        {
            // получаем количество нотификаций

            var queryNew = await _notificationServices.GetNotViewedNotificationAsync(user);

            CountNewNotification = queryNew.Count();

            if(isAuth) isLogout = false;

            StateHasChanged(); // Обновляем бар, что бы получить ссылку на clientAvatar

            if(clientAvatar != null)
                await clientAvatar.ReGenerateImage(); // регенерируем изоображения

            Balance = user.Balance;
        }
    }

    private bool AdminTheme(CompleteVirtualRedirect RtBlock)
    {
        if (RtBlock != null)
            if (RtBlock.informer == "admin")
                return true;
        return false;
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ISystemConfigurationServices _systemServices { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IRolePermissionServices _roleServices { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IRawTextHtmlizer _rawHtmlizer { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private INotificationServices _notificationServices { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime _js { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager _nm { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IVirtualFileServices _fileManager { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IClientAuthServices _clientAuthServices { get; set; }
    }
}
#pragma warning restore 1591
